
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="http://0.0.0.0:8000/About/">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.6">
    
    
      
        <title>How it works - Market Audiolizer</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#temp-directories" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="http://0.0.0.0:8000" title="Market Audiolizer" class="md-header-nav__button md-logo" aria-label="Market Audiolizer">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Market Audiolizer
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              How it works
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="http://0.0.0.0:8000" title="Market Audiolizer" class="md-nav__button md-logo" aria-label="Market Audiolizer">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Market Audiolizer
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          How it works
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        How it works
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#temp-directories" class="md-nav__link">
    Temp directories
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loading-btc-price" class="md-nav__link">
    Loading BTC price
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rebinning-price-history" class="md-nav__link">
    Rebinning price history
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-price-to-frequency" class="md-nav__link">
    From price to frequency
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-volume-to-amplitude" class="md-nav__link">
    From volume to amplitude
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-tone-to-pitch" class="md-nav__link">
    From tone to pitch
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duration" class="md-nav__link">
    Duration
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../WorkLog/" class="md-nav__link">
        WorkLog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#temp-directories" class="md-nav__link">
    Temp directories
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loading-btc-price" class="md-nav__link">
    Loading BTC price
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rebinning-price-history" class="md-nav__link">
    Rebinning price history
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-price-to-frequency" class="md-nav__link">
    From price to frequency
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-volume-to-amplitude" class="md-nav__link">
    From volume to amplitude
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-tone-to-pitch" class="md-nav__link">
    From tone to pitch
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duration" class="md-nav__link">
    Duration
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>How it works</h1>
                
                <p>The Market Audiolizer takes market price and volume data and maps it onto a musical scale. In other words, it turns prices into melodies. In this way, market analysis may be approached from the standpoint of music theory, which may be more intuitive for the listener than charts are to the trader. From the standpoint of accessibility, audiolization allows vital market information to be accessible to those with visual impairment.</p>
<h2 id="temp-directories">Temp directories<a class="headerlink" href="#temp-directories" title="Permanent link">&para;</a></h2>
<p>Before we get started, we'll need to tell the audiolizer where it can cache price data. Set the <code>AUDIOLIZER_TEMP</code> environment variable.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;AUDIOLIZER_TEMP&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;/tmp/price_data&#39;</span>
</code></pre></div>
<h2 id="loading-btc-price">Loading BTC price<a class="headerlink" href="#loading-btc-price" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">audiolizer.audiolizer</span> <span class="kn">import</span> <span class="n">get_history</span>
<span class="n">ticker</span><span class="o">=</span><span class="s1">&#39;BTC-USD&#39;</span>
<span class="n">btc</span> <span class="o">=</span> <span class="n">get_history</span><span class="p">(</span><span class="n">ticker</span><span class="p">,</span> <span class="s1">&#39;June 1, 2021&#39;</span><span class="p">,</span> <span class="s1">&#39;June 18, 2021&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
<span class="n">btc</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">time</th>
<th align="right">low</th>
<th align="right">high</th>
<th align="right">open</th>
<th align="right">close</th>
<th align="right">volume</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">2021-06-01 00:00:00</td>
<td align="right">37140.9</td>
<td align="right">37639.9</td>
<td align="right">37276.2</td>
<td align="right">37624.1</td>
<td align="right">125.973</td>
</tr>
<tr>
<td align="left">2021-06-01 00:05:00</td>
<td align="right">37532.8</td>
<td align="right">37717.5</td>
<td align="right">37627.2</td>
<td align="right">37572.9</td>
<td align="right">177.163</td>
</tr>
<tr>
<td align="left">2021-06-01 00:10:00</td>
<td align="right">37546.2</td>
<td align="right">37670.3</td>
<td align="right">37572.8</td>
<td align="right">37561.7</td>
<td align="right">185.647</td>
</tr>
<tr>
<td align="left">2021-06-01 00:15:00</td>
<td align="right">37510.7</td>
<td align="right">37643.8</td>
<td align="right">37566.4</td>
<td align="right">37513.7</td>
<td align="right">157.127</td>
</tr>
<tr>
<td align="left">2021-06-01 00:20:00</td>
<td align="right">37505</td>
<td align="right">37694.8</td>
<td align="right">37510.7</td>
<td align="right">37647.7</td>
<td align="right">121.479</td>
</tr>
</tbody>
</table>
<details> <summary> help(get_history) </summary>

<div class="highlight"><pre><span></span><code><span class="go">Help on function get_history in module audiolizer.audiolizer:</span>

<span class="go">get_history(ticker, start_date, end_date=None, granularity=300)</span>
<span class="go">    Fetch/load historical data from Coinbase API at specified granularity</span>

<span class="go">    params:</span>
<span class="go">        start_date: (str) (see pandas.to_datetime for acceptable formats)</span>
<span class="go">        end_date: (str)</span>
<span class="go">        granularity: (int) seconds (default: 300)</span>
</code></pre></div>
</details>

<p>We can plot this data immediately</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">audiolizer.audiolizer</span> <span class="kn">import</span> <span class="n">candlestick_plot</span><span class="p">,</span> <span class="n">write_plot</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">candlestick_plot</span><span class="p">(</span><span class="n">btc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;June 16, 2021&#39;</span><span class="p">])</span>

<span class="c1"># write plot to disk so we can include it in markdown</span>
<span class="n">write_plot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="s1">&#39;plot_div_06-16-2021_300s.html&#39;</span><span class="p">)</span>
</code></pre></div>
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>                <div id="fc7c4f58-5dee-4bdb-a90a-73b37a3f9139" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("fc7c4f58-5dee-4bdb-a90a-73b37a3f9139")) {                    Plotly.newPlot(                        "fc7c4f58-5dee-4bdb-a90a-73b37a3f9139",                        [{"marker": {"color": "rgba(158,202,225,.5)"}, "showlegend": false, "type": "bar", "x": ["2021-06-16T00:00:00", "2021-06-16T00:05:00", "2021-06-16T00:10:00", "2021-06-16T00:15:00", "2021-06-16T00:20:00", "2021-06-16T00:25:00", "2021-06-16T00:30:00", "2021-06-16T00:35:00", "2021-06-16T00:40:00", "2021-06-16T00:45:00", "2021-06-16T00:50:00", "2021-06-16T00:55:00", "2021-06-16T01:00:00", "2021-06-16T01:05:00", "2021-06-16T01:10:00", "2021-06-16T01:15:00", "2021-06-16T01:20:00", "2021-06-16T01:25:00", "2021-06-16T01:30:00", "2021-06-16T01:35:00", "2021-06-16T01:40:00", "2021-06-16T01:45:00", "2021-06-16T01:50:00", "2021-06-16T01:55:00", "2021-06-16T02:00:00", "2021-06-16T02:05:00", "2021-06-16T02:10:00", "2021-06-16T02:15:00", "2021-06-16T02:20:00", "2021-06-16T02:25:00", "2021-06-16T02:30:00", "2021-06-16T02:35:00", "2021-06-16T02:40:00", "2021-06-16T02:45:00", "2021-06-16T02:50:00", "2021-06-16T02:55:00", "2021-06-16T03:00:00", "2021-06-16T03:05:00", "2021-06-16T03:10:00", "2021-06-16T03:15:00", "2021-06-16T03:20:00", "2021-06-16T03:25:00", "2021-06-16T03:30:00", "2021-06-16T03:35:00", "2021-06-16T03:40:00", "2021-06-16T03:45:00", "2021-06-16T03:50:00", "2021-06-16T03:55:00", "2021-06-16T04:00:00", "2021-06-16T04:05:00", "2021-06-16T04:10:00", "2021-06-16T04:15:00", "2021-06-16T04:20:00", "2021-06-16T04:25:00", "2021-06-16T04:30:00", "2021-06-16T04:35:00", "2021-06-16T04:40:00", "2021-06-16T04:45:00", "2021-06-16T04:50:00", "2021-06-16T04:55:00", "2021-06-16T05:00:00", "2021-06-16T05:05:00", "2021-06-16T05:10:00", "2021-06-16T05:15:00", "2021-06-16T05:20:00", "2021-06-16T05:25:00", "2021-06-16T05:30:00", "2021-06-16T05:35:00", "2021-06-16T05:40:00", "2021-06-16T05:45:00", "2021-06-16T05:50:00", "2021-06-16T05:55:00", "2021-06-16T06:00:00", "2021-06-16T06:05:00", "2021-06-16T06:10:00", "2021-06-16T06:15:00", "2021-06-16T06:20:00", "2021-06-16T06:25:00", "2021-06-16T06:30:00", "2021-06-16T06:35:00", "2021-06-16T06:40:00", "2021-06-16T06:45:00", "2021-06-16T06:50:00", "2021-06-16T06:55:00", "2021-06-16T07:00:00", "2021-06-16T07:05:00", "2021-06-16T07:10:00", "2021-06-16T07:15:00", "2021-06-16T07:20:00", "2021-06-16T07:25:00", "2021-06-16T07:30:00", "2021-06-16T07:35:00", "2021-06-16T07:40:00", "2021-06-16T07:45:00", "2021-06-16T07:50:00", "2021-06-16T07:55:00", "2021-06-16T08:00:00", "2021-06-16T08:05:00", "2021-06-16T08:10:00", "2021-06-16T08:15:00", "2021-06-16T08:20:00", "2021-06-16T08:25:00", "2021-06-16T08:30:00", "2021-06-16T08:35:00", "2021-06-16T08:40:00", "2021-06-16T08:45:00", "2021-06-16T08:50:00", "2021-06-16T08:55:00", "2021-06-16T09:00:00", "2021-06-16T09:05:00", "2021-06-16T09:10:00", "2021-06-16T09:15:00", "2021-06-16T09:20:00", "2021-06-16T09:25:00", "2021-06-16T09:30:00", "2021-06-16T09:35:00", "2021-06-16T09:40:00", "2021-06-16T09:45:00", "2021-06-16T09:50:00", "2021-06-16T09:55:00", "2021-06-16T10:00:00", "2021-06-16T10:05:00", "2021-06-16T10:10:00", "2021-06-16T10:15:00", "2021-06-16T10:20:00", "2021-06-16T10:25:00", "2021-06-16T10:30:00", "2021-06-16T10:35:00", "2021-06-16T10:40:00", "2021-06-16T10:45:00", "2021-06-16T10:50:00", "2021-06-16T10:55:00", "2021-06-16T11:00:00", "2021-06-16T11:05:00", "2021-06-16T11:10:00", "2021-06-16T11:15:00", "2021-06-16T11:20:00", "2021-06-16T11:25:00", "2021-06-16T11:30:00", "2021-06-16T11:35:00", "2021-06-16T11:40:00", "2021-06-16T11:45:00", "2021-06-16T11:50:00", "2021-06-16T11:55:00", "2021-06-16T12:00:00", "2021-06-16T12:05:00", "2021-06-16T12:10:00", "2021-06-16T12:15:00", "2021-06-16T12:20:00", "2021-06-16T12:25:00", "2021-06-16T12:30:00", "2021-06-16T12:35:00", "2021-06-16T12:40:00", "2021-06-16T12:45:00", "2021-06-16T12:50:00", "2021-06-16T12:55:00", "2021-06-16T13:00:00", "2021-06-16T13:05:00", "2021-06-16T13:10:00", "2021-06-16T13:15:00", "2021-06-16T13:20:00", "2021-06-16T13:25:00", "2021-06-16T13:30:00", "2021-06-16T13:35:00", "2021-06-16T13:40:00", "2021-06-16T13:45:00", "2021-06-16T13:50:00", "2021-06-16T13:55:00", "2021-06-16T14:00:00", "2021-06-16T14:05:00", "2021-06-16T14:10:00", "2021-06-16T14:15:00", "2021-06-16T14:20:00", "2021-06-16T14:25:00", "2021-06-16T14:30:00", "2021-06-16T14:35:00", "2021-06-16T14:40:00", "2021-06-16T14:45:00", "2021-06-16T14:50:00", "2021-06-16T14:55:00", "2021-06-16T15:00:00", "2021-06-16T15:05:00", "2021-06-16T15:10:00", "2021-06-16T15:15:00", "2021-06-16T15:20:00", "2021-06-16T15:25:00", "2021-06-16T15:30:00", "2021-06-16T15:35:00", "2021-06-16T15:40:00", "2021-06-16T15:45:00", "2021-06-16T15:50:00", "2021-06-16T15:55:00", "2021-06-16T16:00:00", "2021-06-16T16:05:00", "2021-06-16T16:10:00", "2021-06-16T16:15:00", "2021-06-16T16:20:00", "2021-06-16T16:25:00", "2021-06-16T16:30:00", "2021-06-16T16:35:00", "2021-06-16T16:40:00", "2021-06-16T16:45:00", "2021-06-16T16:50:00", "2021-06-16T16:55:00", "2021-06-16T17:00:00", "2021-06-16T17:05:00", "2021-06-16T17:10:00", "2021-06-16T17:15:00", "2021-06-16T17:20:00", "2021-06-16T17:25:00", "2021-06-16T17:30:00", "2021-06-16T17:35:00", "2021-06-16T17:40:00", "2021-06-16T17:45:00", "2021-06-16T17:50:00", "2021-06-16T17:55:00", "2021-06-16T18:00:00", "2021-06-16T18:05:00", "2021-06-16T18:10:00", "2021-06-16T18:15:00", "2021-06-16T18:20:00", "2021-06-16T18:25:00", "2021-06-16T18:30:00", "2021-06-16T18:35:00", "2021-06-16T18:40:00", "2021-06-16T18:45:00", "2021-06-16T18:50:00", "2021-06-16T18:55:00", "2021-06-16T19:00:00", "2021-06-16T19:05:00", "2021-06-16T19:10:00", "2021-06-16T19:15:00", "2021-06-16T19:20:00", "2021-06-16T19:25:00", "2021-06-16T19:30:00", "2021-06-16T19:35:00", "2021-06-16T19:40:00", "2021-06-16T19:45:00", "2021-06-16T19:50:00", "2021-06-16T19:55:00", "2021-06-16T20:00:00", "2021-06-16T20:05:00", "2021-06-16T20:10:00", "2021-06-16T20:15:00", "2021-06-16T20:20:00", "2021-06-16T20:25:00", "2021-06-16T20:30:00", "2021-06-16T20:35:00", "2021-06-16T20:40:00", "2021-06-16T20:45:00", "2021-06-16T20:50:00", "2021-06-16T20:55:00", "2021-06-16T21:00:00", "2021-06-16T21:05:00", "2021-06-16T21:10:00", "2021-06-16T21:15:00", "2021-06-16T21:20:00", "2021-06-16T21:25:00", "2021-06-16T21:30:00", "2021-06-16T21:35:00", "2021-06-16T21:40:00", "2021-06-16T21:45:00", "2021-06-16T21:50:00", "2021-06-16T21:55:00", "2021-06-16T22:00:00", "2021-06-16T22:05:00", "2021-06-16T22:10:00", "2021-06-16T22:15:00", "2021-06-16T22:20:00", "2021-06-16T22:25:00", "2021-06-16T22:30:00", "2021-06-16T22:35:00", "2021-06-16T22:40:00", "2021-06-16T22:45:00", "2021-06-16T22:50:00", "2021-06-16T22:55:00", "2021-06-16T23:00:00", "2021-06-16T23:05:00", "2021-06-16T23:10:00", "2021-06-16T23:15:00", "2021-06-16T23:20:00", "2021-06-16T23:25:00", "2021-06-16T23:30:00", "2021-06-16T23:35:00", "2021-06-16T23:40:00", "2021-06-16T23:45:00", "2021-06-16T23:50:00", "2021-06-16T23:55:00"], "y": [66.9528486, 30.08219666, 34.60091885, 25.91195681, 33.08771923, 45.76865886, 24.12651243, 33.58702479, 20.97537871, 23.33693037, 57.89434567, 49.90122302, 67.6333375, 67.84514434, 48.82708535, 38.23024453, 33.51567277, 31.8987487, 51.18577063, 30.73872544, 18.54630185, 24.71978453, 21.09990209, 27.22565234, 32.37429238, 25.18389284, 31.24663231, 13.1939709, 17.98438904, 16.62233681, 10.93621236, 9.53623764, 23.02987089, 39.47635022, 15.83536082, 32.00108153, 15.33974965, 37.17915791, 70.44663668, 30.90056242, 96.51780447, 14.87149197, 18.19557292, 19.83018327, 11.79061334, 14.40622068, 11.44176561, 12.53169745, 10.79067482, 11.96978602, 12.50849606, 14.64795945, 24.92608776, 19.37172433, 121.76932306, 112.02566475, 39.47171696, 69.28637028, 13.41894328, 13.22333555, 10.99222702, 72.2810151, 68.0015117, 12.45748307, 26.77198824, 24.90548542, 67.03350722, 65.27698851, 53.9218225, 58.70327918, 28.01381068, 24.55089582, 22.96415723, 42.98448463, 27.16138669, 39.53961982, 41.46351402, 66.47174567, 50.29842469, 32.28745918, 19.71243875, 41.42617173, 9.31635562, 26.4763139, 16.63598391, 5.21491759, 24.77367808, 29.79024104, 35.87805829, 17.78785032, 36.03143051, 14.23595383, 38.62160893, 14.79630666, 4.18691992, 29.83058619, 18.75602674, 40.59473067, 4.62403225, 8.25939939, 36.5156344, 68.43392494, 18.70142982, 7.15147257, 19.06910242, 10.59404591, 13.20225323, 11.99010511, 9.78756049, 9.00707305, 4.22434377, 43.90746503, 9.19380823, 10.01586478, 4.59685459, 4.08225799, 7.23302656, 6.54824668, 16.85934417, 30.34718804, 30.16272975, 21.37516068, 18.41644722, 12.52520849, 9.95877208, 10.33280692, 38.10052439, 16.45333504, 71.72537755, 47.70609582, 32.7358815, 14.0344695, 284.27161526, 89.30125646, 56.18999398, 165.1593597, 73.22856536, 20.70876802, 38.56599355, 41.98309975, 290.41743204, 46.70660031, 58.61044144, 53.25420669, 152.73120878, 72.24254085, 56.73893549, 124.75306277, 152.3290958, 98.45706236, 48.07108811, 63.0426481, 55.04846607, 47.75201368, 63.98639746, 34.81364492, 55.69712562, 45.11491082, 76.11687973, 21.61810386, 86.99382738, 121.95561329, 166.05366821, 88.61566126, 38.70856781, 38.98373529, 33.71634562, 32.5109001, 66.72140631, 35.9115325, 36.93745772, 38.35543536, 59.95723168, 62.2733817, 21.0272463, 96.28965829, 51.16674374, 66.75902896, 202.91349497, 125.31332192, 101.03796308, 69.91731722, 195.30708522, 77.8368982, 45.72355077, 44.44554867, 65.29966672, 83.54209713, 66.05094177, 52.67352919, 53.0683118, 46.25917714, 149.92693349, 86.24377392, 65.26516962, 45.57889865, 31.28396021, 54.8018449, 46.61015466, 61.31478303, 58.24948409, 97.90628277, 265.90773231, 131.20691393, 119.87938598, 92.97164623, 102.98569773, 65.34280626, 51.6278911, 48.75011083, 47.45378281, 95.35509456, 39.70720771, 54.53315471, 59.03242498, 94.38006692, 661.93434418, 224.10866483, 456.76746912, 134.79586996, 218.54434444, 95.41990842, 134.77410556, 173.08672181, 85.8743004, 77.56289873, 114.18791654, 73.97924408, 80.54943598, 84.61857555, 134.21381329, 79.28689944, 99.64137038, 111.81999033, 127.72701541, 65.71017678, 79.65599955, 131.41641511, 71.29244136, 120.40020735, 181.75017381, 92.11588535, 108.76544797, 53.27734513, 63.8224356, 48.56232183, 27.70427755, 84.87684071, 69.46969015, 45.51045888, 44.55181943, 37.56867772, 51.85389782, 63.89101584, 45.60825529, 24.95215747, 51.54000855, 43.64908657, 25.60431194, 33.29205031, 32.44517736, 28.91385059, 60.77472896, 34.325599, 32.36038425, 52.187858, 38.05392424, 32.50407952, 44.97865229, 63.43965252, 41.73863381, 93.92670029, 35.47468945, 38.28663517, 26.2045606, 27.65272429, 114.79131883, 49.69714348, 90.14597927, 409.34195665, 62.03427334, 52.33624189, 56.55561519, 55.2788719, 35.6866926, 51.1865742, 56.13265272, 30.84201927], "yaxis": "y2"}, {"close": [40057.95, 40076.88, 40116.87, 40088.26, 40057.52, 39984.67, 40004.11, 39989.65, 40000.8, 39991.81, 39910.0, 39886.89, 39798.37, 39762.7, 39826.34, 39807.03, 39750.01, 39865.95, 39936.89, 40028.88, 40020.0, 39969.31, 40012.3, 40109.39, 40154.57, 40095.3, 40113.6, 40050.01, 40064.52, 40130.14, 40080.01, 40075.02, 39999.77, 39965.49, 40018.53, 40049.17, 39950.01, 39869.94, 39871.54, 39883.01, 39965.9, 39891.23, 39946.71, 39965.5, 40021.5, 40013.4, 40065.78, 40026.04, 39956.87, 39984.93, 39982.77, 40008.36, 39910.68, 39908.06, 40321.31, 40299.99, 40233.66, 40247.2, 40297.8, 40271.81, 40271.77, 40291.28, 40205.22, 40192.25, 40228.29, 40192.32, 40286.91, 40295.0, 40290.25, 40279.14, 40265.71, 40257.54, 40229.28, 40219.22, 40216.13, 40300.0, 40330.05, 40446.31, 40424.35, 40422.36, 40395.45, 40426.0, 40390.47, 40390.26, 40446.64, 40379.03, 40313.47, 40333.62, 40273.76, 40250.01, 40193.0, 40252.41, 40227.28, 40222.64, 40204.77, 40133.14, 40196.78, 40227.76, 40236.68, 40184.97, 40109.33, 40028.03, 40053.72, 40036.17, 40064.19, 40116.89, 40088.64, 40048.24, 40078.57, 40029.11, 40007.32, 39976.76, 40049.04, 40039.97, 40076.33, 40078.76, 40145.42, 40127.62, 40030.25, 39966.61, 40000.01, 40032.04, 40003.6, 39996.14, 39990.58, 39954.85, 39920.48, 39891.05, 39740.21, 39812.47, 39773.13, 39770.39, 39303.52, 39247.01, 39280.01, 39230.85, 39281.25, 39247.74, 39202.13, 39162.12, 39060.76, 39130.48, 39200.0, 39098.92, 39006.15, 39192.45, 39133.4, 38971.01, 38965.71, 38932.87, 38988.81, 38948.55, 39057.03, 39173.01, 39111.53, 39073.07, 39152.98, 39101.38, 38991.64, 39040.26, 39438.54, 39364.14, 39272.23, 39310.99, 39263.71, 39144.23, 39167.23, 39247.81, 39289.75, 39274.02, 39332.35, 39255.96, 39186.25, 39164.11, 39249.05, 39238.49, 39211.2, 39092.11, 38812.61, 38854.5, 38965.21, 38885.0, 38651.2, 38688.29, 38713.73, 38713.45, 38751.83, 38676.28, 38735.56, 38685.2, 38772.97, 38789.35, 39095.91, 39276.99, 39287.72, 39179.61, 39079.31, 38975.06, 39001.7, 38906.68, 38881.01, 38680.02, 38609.67, 38671.85, 38576.23, 38665.14, 38864.11, 38630.04, 38712.93, 38741.37, 38814.06, 38999.7, 38924.19, 38939.15, 38939.89, 39180.01, 39351.1, 39144.64, 38812.97, 38660.39, 38547.3, 38513.4, 38618.54, 38543.26, 38404.22, 38603.49, 38785.38, 38720.45, 38725.69, 38832.81, 38876.59, 38912.41, 39017.81, 38947.98, 38909.51, 38897.47, 38852.74, 38717.33, 38695.59, 38668.76, 38590.18, 38566.96, 38717.82, 38608.86, 38564.59, 38617.13, 38632.67, 38563.85, 38637.42, 38685.7, 38640.99, 38533.51, 38537.4, 38545.2, 38536.93, 38649.69, 38667.38, 38689.09, 38708.61, 38681.16, 38616.56, 38672.38, 38865.68, 38772.39, 38839.15, 38809.24, 38770.11, 38725.98, 38765.92, 38645.24, 38700.94, 38565.53, 38540.04, 38580.6, 38584.12, 38565.82, 38485.25, 38460.82, 38429.99, 38300.01, 38186.35, 38208.44, 38170.06, 38266.46, 38200.0, 38292.49, 38275.29, 38351.0], "high": [40160.0, 40137.23, 40141.12, 40149.98, 40126.63, 40061.96, 40070.42, 40018.46, 40035.63, 40058.99, 40020.0, 39958.12, 39918.08, 39798.43, 39833.43, 39865.64, 39851.35, 39882.97, 39970.09, 40048.04, 40064.57, 40023.01, 40057.4, 40109.4, 40161.66, 40159.0, 40145.97, 40116.6, 40107.52, 40180.08, 40172.65, 40126.19, 40104.4, 39993.67, 40028.23, 40100.0, 40059.27, 39973.53, 39893.65, 39893.65, 39999.74, 39981.68, 39964.04, 40046.44, 40033.34, 40058.39, 40084.71, 40108.4, 40055.67, 40016.14, 39984.93, 40011.86, 40010.74, 39947.01, 40351.13, 40425.0, 40345.99, 40335.78, 40305.07, 40337.93, 40355.0, 40319.28, 40319.96, 40224.61, 40245.99, 40240.0, 40359.6, 40320.14, 40342.78, 40323.99, 40309.99, 40295.0, 40300.0, 40252.02, 40254.02, 40300.0, 40338.25, 40475.99, 40464.15, 40448.5, 40425.07, 40499.0, 40446.35, 40394.63, 40448.2, 40442.52, 40379.03, 40333.62, 40335.51, 40284.81, 40253.34, 40258.73, 40264.74, 40270.55, 40244.22, 40214.89, 40196.78, 40247.2, 40257.45, 40236.52, 40202.62, 40109.33, 40053.72, 40082.69, 40080.59, 40129.85, 40120.85, 40088.68, 40087.13, 40092.61, 40044.6, 40026.55, 40051.34, 40049.22, 40076.33, 40101.33, 40187.06, 40150.91, 40127.62, 40030.28, 40011.45, 40054.02, 40048.21, 40069.7, 40030.0, 40008.21, 39964.59, 39950.27, 39892.82, 39812.56, 39823.43, 39790.88, 39787.11, 39383.81, 39382.14, 39280.56, 39294.63, 39286.87, 39258.33, 39242.2, 39160.07, 39146.5, 39214.98, 39201.28, 39092.65, 39199.0, 39201.29, 39141.45, 39029.55, 39017.56, 39048.79, 39020.6, 39077.39, 39189.04, 39174.01, 39111.54, 39174.54, 39160.63, 39133.03, 39078.2, 39460.0, 39518.1, 39351.94, 39329.92, 39311.0, 39263.79, 39218.09, 39247.81, 39319.53, 39291.49, 39341.21, 39375.0, 39266.12, 39203.63, 39271.37, 39266.99, 39266.99, 39214.59, 39114.78, 38904.43, 38993.38, 38970.58, 38880.01, 38719.42, 38748.35, 38769.84, 38760.81, 38814.99, 38742.11, 38811.04, 38772.97, 38799.27, 39106.0, 39277.0, 39300.0, 39310.02, 39178.58, 39079.31, 39131.7, 39045.04, 38906.69, 38906.68, 38699.48, 38692.13, 38671.85, 38750.05, 38866.1, 38864.1, 38753.94, 38764.02, 38851.24, 39120.2, 38999.7, 38967.4, 39099.0, 39230.17, 39706.6, 39600.0, 39144.64, 38813.0, 38656.48, 38589.08, 38658.46, 38620.24, 38550.0, 38642.3, 38785.4, 38789.43, 38863.92, 38838.1, 38910.0, 38950.0, 39060.52, 39049.98, 38950.0, 38909.5, 38928.32, 38852.74, 38823.38, 38733.36, 38667.95, 38630.46, 38717.94, 38870.0, 38640.39, 38668.03, 38689.66, 38658.85, 38683.65, 38764.71, 38738.94, 38683.86, 38578.2, 38547.63, 38609.77, 38651.34, 38721.76, 38768.94, 38744.99, 38763.15, 38689.55, 38674.85, 38888.54, 38865.58, 38888.86, 38927.86, 38863.2, 38781.4, 38800.0, 38820.51, 38712.83, 38700.94, 38609.76, 38630.0, 38590.67, 38619.23, 38581.4, 38498.14, 38475.84, 38431.06, 38312.7, 38254.1, 38248.03, 38287.95, 38287.59, 38318.63, 38306.47, 38351.0], "low": [39978.04, 40057.94, 40014.61, 40044.73, 39985.33, 39930.12, 39984.67, 39928.04, 39975.0, 39986.26, 39899.0, 39829.4, 39755.0, 39693.87, 39612.0, 39750.86, 39740.61, 39713.53, 39863.94, 39936.89, 39995.41, 39956.82, 39968.3, 40012.53, 40080.8, 40045.59, 40095.29, 40044.51, 40050.01, 40064.52, 40080.01, 40074.52, 39970.9, 39910.0, 39948.51, 40018.53, 39950.0, 39869.94, 39832.96, 39837.24, 39856.01, 39891.22, 39836.33, 39946.71, 39963.29, 39980.68, 40012.69, 40023.93, 39956.87, 39950.0, 39928.72, 39954.65, 39894.72, 39861.33, 39892.06, 40262.19, 40231.52, 40233.66, 40212.1, 40260.8, 40263.51, 40241.53, 40173.95, 40169.19, 40179.66, 40166.06, 40157.75, 40275.41, 40276.44, 40237.97, 40240.05, 40232.75, 40226.49, 40189.33, 40180.15, 40205.96, 40292.94, 40329.99, 40386.36, 40370.33, 40354.32, 40395.24, 40372.52, 40352.0, 40389.47, 40374.22, 40313.42, 40237.64, 40250.0, 40227.62, 40162.43, 40186.86, 40189.84, 40222.22, 40185.79, 40056.85, 40112.9, 40163.54, 40208.83, 40170.34, 40109.33, 39930.04, 39985.0, 40017.86, 40020.78, 40038.32, 40028.09, 40028.08, 40001.09, 40024.73, 40007.32, 39900.0, 39945.61, 39999.0, 40028.78, 40045.15, 40057.31, 40091.43, 40023.54, 39929.56, 39828.24, 39943.54, 39997.62, 39973.41, 39964.67, 39939.57, 39850.7, 39889.16, 39702.57, 39681.84, 39754.21, 39710.62, 39172.86, 39236.68, 39236.69, 39100.0, 39201.7, 39201.89, 39102.24, 39106.25, 38945.0, 38929.22, 39106.43, 39081.61, 38922.0, 39006.15, 39071.59, 38902.4, 38900.0, 38924.83, 38900.0, 38922.0, 38925.1, 39055.91, 39076.86, 39050.29, 39060.0, 39064.04, 38991.63, 38985.18, 39037.2, 39306.01, 39217.65, 39252.75, 39239.22, 39120.0, 39120.01, 39150.0, 39144.21, 39235.87, 39275.0, 39250.53, 39148.52, 39128.43, 39164.1, 39056.03, 39207.5, 39020.0, 38659.69, 38742.86, 38801.34, 38866.05, 38575.0, 38590.92, 38677.06, 38677.84, 38713.45, 38644.57, 38643.86, 38685.19, 38664.37, 38726.96, 38682.94, 39025.93, 39167.4, 39179.6, 39045.29, 38933.85, 38970.39, 38891.57, 38814.28, 38680.01, 38443.0, 38570.0, 38523.98, 38565.35, 38659.22, 38630.04, 38627.01, 38654.05, 38733.92, 38808.69, 38887.44, 38854.71, 38920.09, 38918.54, 38532.0, 39078.44, 38402.02, 38579.18, 38328.15, 38462.97, 38414.02, 38333.0, 38369.38, 38390.0, 38548.86, 38679.5, 38664.01, 38705.02, 38791.46, 38832.8, 38911.42, 38929.65, 38855.83, 38859.19, 38836.14, 38648.34, 38687.96, 38652.61, 38540.0, 38550.0, 38450.0, 38603.94, 38543.77, 38547.79, 38562.37, 38534.95, 38556.35, 38607.29, 38630.91, 38500.0, 38480.78, 38422.01, 38530.33, 38536.92, 38627.01, 38663.4, 38689.08, 38680.0, 38588.21, 38597.51, 38656.97, 38748.33, 38708.83, 38799.64, 38765.47, 38689.38, 38725.97, 38616.4, 38600.0, 38564.23, 38525.0, 38522.91, 38530.0, 38538.23, 38375.0, 38402.57, 38333.39, 38105.0, 38132.53, 38151.37, 38115.65, 38163.63, 38175.0, 38181.18, 38233.86, 38250.0], "open": [40158.06, 40057.95, 40076.89, 40117.89, 40087.19, 40057.03, 39984.67, 40005.16, 39989.66, 40000.8, 39991.81, 39910.01, 39886.9, 39798.37, 39762.69, 39824.16, 39805.96, 39750.01, 39863.94, 39936.89, 40028.88, 40020.01, 39968.31, 40012.53, 40098.9, 40151.67, 40095.29, 40111.28, 40050.01, 40064.52, 40130.16, 40080.01, 40074.47, 39991.2, 39965.91, 40018.53, 40046.69, 39950.01, 39869.95, 39871.54, 39893.64, 39965.34, 39891.23, 39946.71, 39965.5, 40021.49, 40012.69, 40065.77, 40024.77, 39956.94, 39984.92, 39982.77, 40008.38, 39906.27, 39908.05, 40319.9, 40299.99, 40233.66, 40246.19, 40303.53, 40275.44, 40269.67, 40289.23, 40207.79, 40192.25, 40235.71, 40192.31, 40286.91, 40294.99, 40287.54, 40277.1, 40264.79, 40261.82, 40232.95, 40219.22, 40220.24, 40300.0, 40330.0, 40446.3, 40424.36, 40422.37, 40395.48, 40426.01, 40390.46, 40389.47, 40442.52, 40379.02, 40313.48, 40332.14, 40284.77, 40250.06, 40192.99, 40255.39, 40228.0, 40222.64, 40203.03, 40133.14, 40200.4, 40220.98, 40221.99, 40184.97, 40109.33, 40028.02, 40055.63, 40032.43, 40065.57, 40116.9, 40088.68, 40048.23, 40078.57, 40028.76, 40007.32, 39976.78, 40049.03, 40039.96, 40076.32, 40076.93, 40145.42, 40127.62, 40030.25, 39966.61, 40000.01, 40032.04, 40004.3, 39996.14, 39990.57, 39964.59, 39920.47, 39892.81, 39739.12, 39807.7, 39779.77, 39770.39, 39303.52, 39256.28, 39274.65, 39239.34, 39286.87, 39255.43, 39202.13, 39148.0, 39060.76, 39118.47, 39199.99, 39092.65, 39006.15, 39193.75, 39133.4, 38971.01, 38963.77, 38932.86, 38988.83, 38945.38, 39057.04, 39173.01, 39111.54, 39074.37, 39152.7, 39101.38, 38990.0, 39040.26, 39438.26, 39351.94, 39272.22, 39311.0, 39263.75, 39144.28, 39167.22, 39247.8, 39290.19, 39291.49, 39329.39, 39255.95, 39186.24, 39164.11, 39249.06, 39238.49, 39214.58, 39092.1, 38812.09, 38854.51, 38965.21, 38880.0, 38651.51, 38692.83, 38713.73, 38713.46, 38751.83, 38680.37, 38735.56, 38685.2, 38772.96, 38779.0, 39082.41, 39277.0, 39287.73, 39178.57, 39079.31, 38979.03, 39001.7, 38906.69, 38873.13, 38680.02, 38609.67, 38671.85, 38574.87, 38659.22, 38864.1, 38630.05, 38712.93, 38735.98, 38808.7, 38999.7, 38924.18, 38941.73, 38939.89, 39180.0, 39353.81, 39144.64, 38813.0, 38656.48, 38547.3, 38513.39, 38607.04, 38543.26, 38404.22, 38613.36, 38785.38, 38720.42, 38726.68, 38832.8, 38876.59, 38912.41, 39020.72, 38947.98, 38909.5, 38897.48, 38852.73, 38717.33, 38694.19, 38667.95, 38590.19, 38566.96, 38717.82, 38608.86, 38564.59, 38617.14, 38634.12, 38561.51, 38637.43, 38685.71, 38640.99, 38527.52, 38537.39, 38545.19, 38536.93, 38645.48, 38665.0, 38689.08, 38708.61, 38684.18, 38616.57, 38674.84, 38865.58, 38772.39, 38839.15, 38806.59, 38765.41, 38725.97, 38758.7, 38643.98, 38700.94, 38568.62, 38538.27, 38580.6, 38579.07, 38565.82, 38485.25, 38460.82, 38429.98, 38300.97, 38186.35, 38208.45, 38170.05, 38262.76, 38200.0, 38292.49, 38270.18], "showlegend": false, "type": "candlestick", "x": ["2021-06-16T00:00:00", "2021-06-16T00:05:00", "2021-06-16T00:10:00", "2021-06-16T00:15:00", "2021-06-16T00:20:00", "2021-06-16T00:25:00", "2021-06-16T00:30:00", "2021-06-16T00:35:00", "2021-06-16T00:40:00", "2021-06-16T00:45:00", "2021-06-16T00:50:00", "2021-06-16T00:55:00", "2021-06-16T01:00:00", "2021-06-16T01:05:00", "2021-06-16T01:10:00", "2021-06-16T01:15:00", "2021-06-16T01:20:00", "2021-06-16T01:25:00", "2021-06-16T01:30:00", "2021-06-16T01:35:00", "2021-06-16T01:40:00", "2021-06-16T01:45:00", "2021-06-16T01:50:00", "2021-06-16T01:55:00", "2021-06-16T02:00:00", "2021-06-16T02:05:00", "2021-06-16T02:10:00", "2021-06-16T02:15:00", "2021-06-16T02:20:00", "2021-06-16T02:25:00", "2021-06-16T02:30:00", "2021-06-16T02:35:00", "2021-06-16T02:40:00", "2021-06-16T02:45:00", "2021-06-16T02:50:00", "2021-06-16T02:55:00", "2021-06-16T03:00:00", "2021-06-16T03:05:00", "2021-06-16T03:10:00", "2021-06-16T03:15:00", "2021-06-16T03:20:00", "2021-06-16T03:25:00", "2021-06-16T03:30:00", "2021-06-16T03:35:00", "2021-06-16T03:40:00", "2021-06-16T03:45:00", "2021-06-16T03:50:00", "2021-06-16T03:55:00", "2021-06-16T04:00:00", "2021-06-16T04:05:00", "2021-06-16T04:10:00", "2021-06-16T04:15:00", "2021-06-16T04:20:00", "2021-06-16T04:25:00", "2021-06-16T04:30:00", "2021-06-16T04:35:00", "2021-06-16T04:40:00", "2021-06-16T04:45:00", "2021-06-16T04:50:00", "2021-06-16T04:55:00", "2021-06-16T05:00:00", "2021-06-16T05:05:00", "2021-06-16T05:10:00", "2021-06-16T05:15:00", "2021-06-16T05:20:00", "2021-06-16T05:25:00", "2021-06-16T05:30:00", "2021-06-16T05:35:00", "2021-06-16T05:40:00", "2021-06-16T05:45:00", "2021-06-16T05:50:00", "2021-06-16T05:55:00", "2021-06-16T06:00:00", "2021-06-16T06:05:00", "2021-06-16T06:10:00", "2021-06-16T06:15:00", "2021-06-16T06:20:00", "2021-06-16T06:25:00", "2021-06-16T06:30:00", "2021-06-16T06:35:00", "2021-06-16T06:40:00", "2021-06-16T06:45:00", "2021-06-16T06:50:00", "2021-06-16T06:55:00", "2021-06-16T07:00:00", "2021-06-16T07:05:00", "2021-06-16T07:10:00", "2021-06-16T07:15:00", "2021-06-16T07:20:00", "2021-06-16T07:25:00", "2021-06-16T07:30:00", "2021-06-16T07:35:00", "2021-06-16T07:40:00", "2021-06-16T07:45:00", "2021-06-16T07:50:00", "2021-06-16T07:55:00", "2021-06-16T08:00:00", "2021-06-16T08:05:00", "2021-06-16T08:10:00", "2021-06-16T08:15:00", "2021-06-16T08:20:00", "2021-06-16T08:25:00", "2021-06-16T08:30:00", "2021-06-16T08:35:00", "2021-06-16T08:40:00", "2021-06-16T08:45:00", "2021-06-16T08:50:00", "2021-06-16T08:55:00", "2021-06-16T09:00:00", "2021-06-16T09:05:00", "2021-06-16T09:10:00", "2021-06-16T09:15:00", "2021-06-16T09:20:00", "2021-06-16T09:25:00", "2021-06-16T09:30:00", "2021-06-16T09:35:00", "2021-06-16T09:40:00", "2021-06-16T09:45:00", "2021-06-16T09:50:00", "2021-06-16T09:55:00", "2021-06-16T10:00:00", "2021-06-16T10:05:00", "2021-06-16T10:10:00", "2021-06-16T10:15:00", "2021-06-16T10:20:00", "2021-06-16T10:25:00", "2021-06-16T10:30:00", "2021-06-16T10:35:00", "2021-06-16T10:40:00", "2021-06-16T10:45:00", "2021-06-16T10:50:00", "2021-06-16T10:55:00", "2021-06-16T11:00:00", "2021-06-16T11:05:00", "2021-06-16T11:10:00", "2021-06-16T11:15:00", "2021-06-16T11:20:00", "2021-06-16T11:25:00", "2021-06-16T11:30:00", "2021-06-16T11:35:00", "2021-06-16T11:40:00", "2021-06-16T11:45:00", "2021-06-16T11:50:00", "2021-06-16T11:55:00", "2021-06-16T12:00:00", "2021-06-16T12:05:00", "2021-06-16T12:10:00", "2021-06-16T12:15:00", "2021-06-16T12:20:00", "2021-06-16T12:25:00", "2021-06-16T12:30:00", "2021-06-16T12:35:00", "2021-06-16T12:40:00", "2021-06-16T12:45:00", "2021-06-16T12:50:00", "2021-06-16T12:55:00", "2021-06-16T13:00:00", "2021-06-16T13:05:00", "2021-06-16T13:10:00", "2021-06-16T13:15:00", "2021-06-16T13:20:00", "2021-06-16T13:25:00", "2021-06-16T13:30:00", "2021-06-16T13:35:00", "2021-06-16T13:40:00", "2021-06-16T13:45:00", "2021-06-16T13:50:00", "2021-06-16T13:55:00", "2021-06-16T14:00:00", "2021-06-16T14:05:00", "2021-06-16T14:10:00", "2021-06-16T14:15:00", "2021-06-16T14:20:00", "2021-06-16T14:25:00", "2021-06-16T14:30:00", "2021-06-16T14:35:00", "2021-06-16T14:40:00", "2021-06-16T14:45:00", "2021-06-16T14:50:00", "2021-06-16T14:55:00", "2021-06-16T15:00:00", "2021-06-16T15:05:00", "2021-06-16T15:10:00", "2021-06-16T15:15:00", "2021-06-16T15:20:00", "2021-06-16T15:25:00", "2021-06-16T15:30:00", "2021-06-16T15:35:00", "2021-06-16T15:40:00", "2021-06-16T15:45:00", "2021-06-16T15:50:00", "2021-06-16T15:55:00", "2021-06-16T16:00:00", "2021-06-16T16:05:00", "2021-06-16T16:10:00", "2021-06-16T16:15:00", "2021-06-16T16:20:00", "2021-06-16T16:25:00", "2021-06-16T16:30:00", "2021-06-16T16:35:00", "2021-06-16T16:40:00", "2021-06-16T16:45:00", "2021-06-16T16:50:00", "2021-06-16T16:55:00", "2021-06-16T17:00:00", "2021-06-16T17:05:00", "2021-06-16T17:10:00", "2021-06-16T17:15:00", "2021-06-16T17:20:00", "2021-06-16T17:25:00", "2021-06-16T17:30:00", "2021-06-16T17:35:00", "2021-06-16T17:40:00", "2021-06-16T17:45:00", "2021-06-16T17:50:00", "2021-06-16T17:55:00", "2021-06-16T18:00:00", "2021-06-16T18:05:00", "2021-06-16T18:10:00", "2021-06-16T18:15:00", "2021-06-16T18:20:00", "2021-06-16T18:25:00", "2021-06-16T18:30:00", "2021-06-16T18:35:00", "2021-06-16T18:40:00", "2021-06-16T18:45:00", "2021-06-16T18:50:00", "2021-06-16T18:55:00", "2021-06-16T19:00:00", "2021-06-16T19:05:00", "2021-06-16T19:10:00", "2021-06-16T19:15:00", "2021-06-16T19:20:00", "2021-06-16T19:25:00", "2021-06-16T19:30:00", "2021-06-16T19:35:00", "2021-06-16T19:40:00", "2021-06-16T19:45:00", "2021-06-16T19:50:00", "2021-06-16T19:55:00", "2021-06-16T20:00:00", "2021-06-16T20:05:00", "2021-06-16T20:10:00", "2021-06-16T20:15:00", "2021-06-16T20:20:00", "2021-06-16T20:25:00", "2021-06-16T20:30:00", "2021-06-16T20:35:00", "2021-06-16T20:40:00", "2021-06-16T20:45:00", "2021-06-16T20:50:00", "2021-06-16T20:55:00", "2021-06-16T21:00:00", "2021-06-16T21:05:00", "2021-06-16T21:10:00", "2021-06-16T21:15:00", "2021-06-16T21:20:00", "2021-06-16T21:25:00", "2021-06-16T21:30:00", "2021-06-16T21:35:00", "2021-06-16T21:40:00", "2021-06-16T21:45:00", "2021-06-16T21:50:00", "2021-06-16T21:55:00", "2021-06-16T22:00:00", "2021-06-16T22:05:00", "2021-06-16T22:10:00", "2021-06-16T22:15:00", "2021-06-16T22:20:00", "2021-06-16T22:25:00", "2021-06-16T22:30:00", "2021-06-16T22:35:00", "2021-06-16T22:40:00", "2021-06-16T22:45:00", "2021-06-16T22:50:00", "2021-06-16T22:55:00", "2021-06-16T23:00:00", "2021-06-16T23:05:00", "2021-06-16T23:10:00", "2021-06-16T23:15:00", "2021-06-16T23:20:00", "2021-06-16T23:25:00", "2021-06-16T23:30:00", "2021-06-16T23:35:00", "2021-06-16T23:40:00", "2021-06-16T23:45:00", "2021-06-16T23:50:00", "2021-06-16T23:55:00"]}],                        {"dragmode": "select", "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "yaxis": {"title": {"text": "BTC price [USD]"}}, "yaxis2": {"overlaying": "y", "side": "right", "title": {"text": "BTC volume [BTC]"}}},                        {"responsive": true}                    )                };                            </script>        </div>

<h2 id="rebinning-price-history">Rebinning price history<a class="headerlink" href="#rebinning-price-history" title="Permanent link">&para;</a></h2>
<p>The above resolution may be too high to search for patterns. Let's rebin it to a lower resolution.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">audiolizer.audiolizer</span> <span class="kn">import</span> <span class="n">refactor</span>

<span class="n">btc3h</span> <span class="o">=</span> <span class="n">refactor</span><span class="p">(</span><span class="n">btc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;June 16, 2021&#39;</span><span class="p">],</span> <span class="n">frequency</span><span class="o">=</span><span class="s1">&#39;3h&#39;</span><span class="p">)</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">time</th>
<th align="right">low</th>
<th align="right">high</th>
<th align="right">open</th>
<th align="right">close</th>
<th align="right">volume</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">2021-06-16 00:00:00</td>
<td align="right">39612</td>
<td align="right">40180.1</td>
<td align="right">40158.1</td>
<td align="right">40049.2</td>
<td align="right">1175.11</td>
</tr>
<tr>
<td align="left">2021-06-16 03:00:00</td>
<td align="right">39833</td>
<td align="right">40425</td>
<td align="right">40046.7</td>
<td align="right">40257.5</td>
<td align="right">1329.77</td>
</tr>
<tr>
<td align="left">2021-06-16 06:00:00</td>
<td align="right">39930</td>
<td align="right">40499</td>
<td align="right">40261.8</td>
<td align="right">40048.2</td>
<td align="right">945.778</td>
</tr>
<tr>
<td align="left">2021-06-16 09:00:00</td>
<td align="right">38929.2</td>
<td align="right">40187.1</td>
<td align="right">40048.2</td>
<td align="right">39098.9</td>
<td align="right">1697.73</td>
</tr>
<tr>
<td align="left">2021-06-16 12:00:00</td>
<td align="right">38659.7</td>
<td align="right">39518.1</td>
<td align="right">39092.7</td>
<td align="right">38854.5</td>
<td align="right">2639.68</td>
</tr>
<tr>
<td align="left">2021-06-16 15:00:00</td>
<td align="right">38443</td>
<td align="right">39310</td>
<td align="right">38854.5</td>
<td align="right">39180</td>
<td align="right">2867.48</td>
</tr>
<tr>
<td align="left">2021-06-16 18:00:00</td>
<td align="right">38328.2</td>
<td align="right">39706.6</td>
<td align="right">39180</td>
<td align="right">38533.5</td>
<td align="right">4495.34</td>
</tr>
<tr>
<td align="left">2021-06-16 21:00:00</td>
<td align="right">38105</td>
<td align="right">38927.9</td>
<td align="right">38527.5</td>
<td align="right">38351</td>
<td align="right">2087.69</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">candlestick_plot</span><span class="p">(</span><span class="n">btc3h</span><span class="p">)</span>

<span class="c1"># write plot to disk so we can include it in markdown</span>
<span class="n">write_plot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="s1">&#39;plot_div_06-16-2021_3h.html&#39;</span><span class="p">)</span>
</code></pre></div>
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>                <div id="feca433d-7ca5-4dc6-a7fd-c0ba61d050af" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("feca433d-7ca5-4dc6-a7fd-c0ba61d050af")) {                    Plotly.newPlot(                        "feca433d-7ca5-4dc6-a7fd-c0ba61d050af",                        [{"marker": {"color": "rgba(158,202,225,.5)"}, "showlegend": false, "type": "bar", "x": ["2021-06-16T00:00:00", "2021-06-16T03:00:00", "2021-06-16T06:00:00", "2021-06-16T09:00:00", "2021-06-16T12:00:00", "2021-06-16T15:00:00", "2021-06-16T18:00:00", "2021-06-16T21:00:00"], "y": [1175.11271181, 1329.7715531500003, 945.7777646499999, 1697.7271748800001, 2639.67744283, 2867.47728831, 4495.343502730001, 2087.68797347], "yaxis": "y2"}, {"close": [40049.17, 40257.54, 40048.24, 39098.92, 38854.5, 39180.01, 38533.51, 38351.0], "high": [40180.08, 40425.0, 40499.0, 40187.06, 39518.1, 39310.02, 39706.6, 38927.86], "low": [39612.0, 39832.96, 39930.04, 38929.22, 38659.69, 38443.0, 38328.15, 38105.0], "open": [40158.06, 40046.69, 40261.82, 40048.23, 39092.65, 38854.51, 39180.0, 38527.52], "showlegend": false, "type": "candlestick", "x": ["2021-06-16T00:00:00", "2021-06-16T03:00:00", "2021-06-16T06:00:00", "2021-06-16T09:00:00", "2021-06-16T12:00:00", "2021-06-16T15:00:00", "2021-06-16T18:00:00", "2021-06-16T21:00:00"]}],                        {"dragmode": "select", "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "yaxis": {"title": {"text": "BTC price [USD]"}}, "yaxis2": {"overlaying": "y", "side": "right", "title": {"text": "BTC volume [BTC]"}}},                        {"responsive": true}                    )                };                            </script>        </div>

<h2 id="from-price-to-frequency">From price to frequency<a class="headerlink" href="#from-price-to-frequency" title="Permanent link">&para;</a></h2>
<p>Now that we have a more managable price history, we're ready to start audiolizing. We start with a simple linear map between price and frequency. The min/max price closing price is scaled to min and max pitches.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">audiolizer.audiolizer</span> <span class="kn">import</span> <span class="n">frequencies</span><span class="p">,</span> <span class="n">get_frequency</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">C2_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">frequencies</span><span class="p">[</span><span class="s1">&#39;C2&#39;</span><span class="p">])</span>
<span class="n">C3_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">frequencies</span><span class="p">[</span><span class="s1">&#39;C3&#39;</span><span class="p">])</span>

<span class="n">btc3h</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_frequency</span><span class="p">(</span>
    <span class="n">btc3h</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">btc3h</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
    <span class="n">btc3h</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">C2_log</span><span class="p">,</span> <span class="n">C3_log</span><span class="p">])</span>
<span class="c1"># btc3h[[&#39;close&#39;, &#39;frequency&#39;]]</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">time</th>
<th align="right">close</th>
<th align="right">frequency</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">2021-06-16 00:00:00</td>
<td align="right">40049.2</td>
<td align="right">123.664</td>
</tr>
<tr>
<td align="left">2021-06-16 03:00:00</td>
<td align="right">40257.5</td>
<td align="right">130.813</td>
</tr>
<tr>
<td align="left">2021-06-16 06:00:00</td>
<td align="right">40048.2</td>
<td align="right">123.632</td>
</tr>
<tr>
<td align="left">2021-06-16 09:00:00</td>
<td align="right">39098.9</td>
<td align="right">91.0648</td>
</tr>
<tr>
<td align="left">2021-06-16 12:00:00</td>
<td align="right">38854.5</td>
<td align="right">82.6796</td>
</tr>
<tr>
<td align="left">2021-06-16 15:00:00</td>
<td align="right">39180</td>
<td align="right">93.8467</td>
</tr>
<tr>
<td align="left">2021-06-16 18:00:00</td>
<td align="right">38533.5</td>
<td align="right">71.6676</td>
</tr>
<tr>
<td align="left">2021-06-16 21:00:00</td>
<td align="right">38351</td>
<td align="right">65.4064</td>
</tr>
</tbody>
</table>
<h2 id="from-volume-to-amplitude">From volume to amplitude<a class="headerlink" href="#from-volume-to-amplitude" title="Permanent link">&para;</a></h2>
<p>The amplitude of each beat will be set by volume, normalized by the maximum volume in the time range.</p>
<p>For the moment, the duration of each note will be fixed.</p>
<div class="highlight"><pre><span></span><code><span class="n">duration</span><span class="o">=.</span><span class="mi">25</span> <span class="c1">#sec</span>
<span class="n">btc3h</span><span class="p">[</span><span class="s1">&#39;amplitude&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">btc3h</span><span class="o">.</span><span class="n">volume</span><span class="o">/</span><span class="n">btc3h</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">btc3h</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">duration</span>
<span class="n">btc3h</span><span class="p">[[</span><span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;volume&#39;</span><span class="p">,</span> <span class="s1">&#39;amplitude&#39;</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">]]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">beeps</span> <span class="o">=</span> <span class="p">[(</span><span class="n">frequency</span><span class="p">,</span>
          <span class="n">amplitude</span><span class="p">,</span>
          <span class="n">duration</span><span class="p">)</span> <span class="k">for</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">,</span> <span class="n">duration</span> <span class="ow">in</span> <span class="n">btc3h</span><span class="p">[[</span><span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;amplitude&#39;</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">]</span>
</code></pre></div>
<p>Given our collection of beeps, we can now turn them into an audio file</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">audiolizer.audiolizer</span> <span class="kn">import</span> <span class="n">beeper</span><span class="p">,</span> <span class="n">audiogen_p3</span><span class="p">,</span> <span class="n">itertools</span>

<span class="n">audio</span> <span class="o">=</span> <span class="p">[</span><span class="n">beeper</span><span class="p">(</span><span class="o">*</span><span class="n">beep</span><span class="p">)</span> <span class="k">for</span> <span class="n">beep</span> <span class="ow">in</span> <span class="n">beeps</span><span class="p">]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;beeps_tonal.wav&#39;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">audiogen_p3</span><span class="o">.</span><span class="n">sampler</span><span class="o">.</span><span class="n">write_wav</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="n">audio</span><span class="p">))</span>
</code></pre></div>
<p><audio controls>
  <source src="https://github.com/asherp/audiolizer/blob/master/docs/beeps_tonal.wav?raw=true" type="audio/WAV">
  Your browser does not support the audio tag.
</audio></p>
<h2 id="from-tone-to-pitch">From tone to pitch<a class="headerlink" href="#from-tone-to-pitch" title="Permanent link">&para;</a></h2>
<p>So far we have produced a sequence of pure tones. Let's turn them into pitches to make them a bit easier to hear. This has the effect of rebinning the price.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">audiolizer.audiolizer</span> <span class="kn">import</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">freq</span>

<span class="n">C4_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">frequencies</span><span class="p">[</span><span class="s1">&#39;C4&#39;</span><span class="p">])</span>
<span class="n">C5_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">frequencies</span><span class="p">[</span><span class="s1">&#39;C5&#39;</span><span class="p">])</span>
<span class="n">btc_hourly</span><span class="o">=</span> <span class="n">refactor</span><span class="p">(</span><span class="n">btc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;June 16, 2021&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span> <span class="s1">&#39;1h&#39;</span><span class="p">)</span>
<span class="n">btc_hourly</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_frequency</span><span class="p">(</span>
    <span class="n">btc_hourly</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">btc_hourly</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
    <span class="n">btc_hourly</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">C4_log</span><span class="p">,</span> <span class="n">C5_log</span><span class="p">])</span>
<span class="n">btc_hourly</span><span class="p">[</span><span class="s1">&#39;note&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pitch</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">btc_hourly</span><span class="o">.</span><span class="n">frequency</span><span class="p">]</span>
<span class="n">btc_hourly</span><span class="p">[</span><span class="s1">&#39;pitch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">freq</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">btc_hourly</span><span class="o">.</span><span class="n">note</span><span class="p">]</span>
<span class="c1"># print(btc_hourly[[&#39;close&#39;, &#39;frequency&#39;, &#39;note&#39;, &#39;pitch&#39;]].head().to_markdown())</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="left">time</th>
<th align="right">close</th>
<th align="right">frequency</th>
<th align="left">note</th>
<th align="right">pitch</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">2021-06-16 00:00:00</td>
<td align="right">39886.9</td>
<td align="right">458.764</td>
<td align="left">A#4</td>
<td align="right">466.164</td>
</tr>
<tr>
<td align="left">2021-06-16 01:00:00</td>
<td align="right">40109.4</td>
<td align="right">487.269</td>
<td align="left">B4</td>
<td align="right">493.883</td>
</tr>
<tr>
<td align="left">2021-06-16 02:00:00</td>
<td align="right">40049.2</td>
<td align="right">479.554</td>
<td align="left">A#4</td>
<td align="right">466.164</td>
</tr>
<tr>
<td align="left">2021-06-16 03:00:00</td>
<td align="right">40026</td>
<td align="right">476.591</td>
<td align="left">A#4</td>
<td align="right">466.164</td>
</tr>
<tr>
<td align="left">2021-06-16 04:00:00</td>
<td align="right">40271.8</td>
<td align="right">508.076</td>
<td align="left">B4</td>
<td align="right">493.883</td>
</tr>
</tbody>
</table>
<h2 id="duration">Duration<a class="headerlink" href="#duration" title="Permanent link">&para;</a></h2>
<p>The note duration may be controlled by merging pitches that are the same based on volume. Here's our merging function:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">merge_pitches</span><span class="p">(</span><span class="n">beeps</span><span class="p">,</span> <span class="n">amp_min</span><span class="p">):</span>
    <span class="n">merged</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">last_freq</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">last_amp</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">freq</span><span class="p">,</span> <span class="n">amp</span><span class="p">,</span> <span class="n">dur</span> <span class="ow">in</span> <span class="n">beeps</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">freq</span> <span class="o">==</span> <span class="n">last_freq</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">merged</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">amp_min</span><span class="p">:</span>
                <span class="n">merged</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">amp</span> <span class="o">+</span> <span class="n">last_amp</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="c1"># todo: use moving average</span>
                <span class="n">merged</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="n">dur</span>
            <span class="k">continue</span>
        <span class="n">merged</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">freq</span><span class="p">,</span> <span class="n">amp</span><span class="p">,</span> <span class="n">dur</span><span class="p">])</span>
        <span class="n">last_freq</span> <span class="o">=</span> <span class="n">freq</span>
        <span class="n">last_amp</span> <span class="o">=</span> <span class="n">amp</span>
    <span class="k">return</span> <span class="n">merged</span>
</code></pre></div>
<p>As we cycle through the stack of beeps, we check if the last beep's frequency matches the current one. If so, we check if the last beep's amplitude is above the <code>amp_min</code> threshold. If so, we set the last beep's amplitude to the average of the last and current and we increase the last beep's duration by the current beep's duration.</p>
<p>The point of doing this is that low amplitude indicates low (sideways) trading volume so we play a longer note, whereas high trade volume will get the minimum duration, and the melody will be "faster".</p>
<p>The <code>quiet</code> function is similar:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">quiet</span><span class="p">(</span><span class="n">beeps</span><span class="p">,</span> <span class="n">min_amp</span><span class="p">):</span>
    <span class="n">silenced</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">freq</span><span class="p">,</span> <span class="n">amp</span><span class="p">,</span> <span class="n">dur</span> <span class="ow">in</span> <span class="n">beeps</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">amp</span> <span class="o">&lt;</span> <span class="n">min_amp</span><span class="p">:</span>
            <span class="n">amp</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">silenced</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">freq</span><span class="p">,</span> <span class="n">amp</span><span class="p">,</span> <span class="n">dur</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">silenced</span>   
</code></pre></div>
<p>Here we just set the amplitude to 0 if it's below the <code>min_amp</code> threshold.</p>
<div class="highlight"><pre><span></span><code><span class="n">candlestick_plot</span><span class="p">(</span><span class="n">btc_hourly</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">max_vol</span> <span class="o">=</span> <span class="n">btc_hourly</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">beeps</span> <span class="o">=</span> <span class="p">[(</span><span class="n">pitch</span><span class="p">,</span>
          <span class="n">volume</span><span class="o">/</span><span class="n">max_vol</span><span class="p">,</span>
          <span class="n">duration</span><span class="p">)</span> <span class="k">for</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">volume</span> <span class="ow">in</span> <span class="n">btc_hourly</span><span class="p">[[</span><span class="s1">&#39;pitch&#39;</span><span class="p">,</span> <span class="s1">&#39;volume&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">]</span>
<span class="n">beeps</span> <span class="o">=</span> <span class="n">quiet</span><span class="p">(</span><span class="n">merge_pitches</span><span class="p">(</span><span class="n">beeps</span><span class="p">,</span> <span class="o">.</span><span class="mi">25</span><span class="p">),</span> <span class="o">.</span><span class="mi">25</span><span class="p">)</span>

<span class="n">audio</span> <span class="o">=</span> <span class="p">[</span><span class="n">beeper</span><span class="p">(</span><span class="o">*</span><span class="n">beep</span><span class="p">)</span> <span class="k">for</span> <span class="n">beep</span> <span class="ow">in</span> <span class="n">beeps</span><span class="p">]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;beeps_pitch.wav&#39;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">audiogen_p3</span><span class="o">.</span><span class="n">sampler</span><span class="o">.</span><span class="n">write_wav</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="n">audio</span><span class="p">))</span>
</code></pre></div>
<p>The following sample is an audiolization of the above candlestick plot. The first 2.5 seconds are silent since the first half of the day's trades had relatively low volume.</p>
<p><audio controls>
  <source src="https://github.com/asherp/audiolizer/blob/master/docs/beeps_pitch.wav?raw=true" type="audio/WAV">
  Your browser does not support the audio tag.
</audio></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href=".." class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </div>
            </div>
          </a>
        
        
          <a href="../WorkLog/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                WorkLog
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.53cc9318.min.js"></script>
      <script src="../assets/javascripts/bundle.e9c9f54f.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML""></script>
      
    
  </body>
</html>